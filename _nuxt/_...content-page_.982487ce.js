import y from"./ContentDoc.663ecf32.js";import{i as x,O as A,E as C,M as w,a1 as $,L as v,a0 as k,Y as q,a as P,u as R,c as b,w as B,q as O,x as S,o as d,f as U}from"./entry.1f9c1e10.js";import{q as E}from"./query.c8396f2a.js";import"./ContentRenderer.f739d705.js";import"./ContentRendererMarkdown.76aa5d92.js";import"./index.a6ef77ff.js";import"./preview.500a3ed3.js";import"./ContentQuery.03a9129e.js";import"./utils.39c27461.js";const L={__name:"[...content-page]",async setup(M){var l,_,u;let r,c;const a=A(),g=S(),s=a.path!=="/"&&a.path.endsWith("/");C(async()=>{if(s){const{path:t,query:e,hash:o}=a,f={path:t.replace(/\/+$/,""),query:e,hash:o};await w(f,{replace:!0})}});let n=null;try{n=([r,c]=$(()=>E(v(a.path)).only(["og","description","title"]).findOne()),r=await r,c(),r)}catch{}if(n){const t=((l=n.og)==null?void 0:l.title)??n.title,e=p(((_=n.og)==null?void 0:_.image)??"logo-primary-og.png"),o=h(m(((u=n.og)==null?void 0:u.description)??n.description),150),i=p(a.path);k({title:t,meta:[{hid:"og:url",property:"og:url",content:i},{hid:"og:title",property:"og:title",content:t},{hid:"description",property:"description",content:o},{hid:"og:description",property:"og:description",content:o},{hid:"og:image",property:"og:image",content:e}]})}function p(t){const{protocol:e,authority:o,baseUrl:i}=g.public;return`${e}://${q(o,i,t)}`}function m(t=" "){return t.replaceAll(`
`," ").replaceAll("	"," ").replaceAll("\r"," ").replaceAll("!",".").replaceAll("?",".").replaceAll("...",".").split(".").shift()}function h(t,e){return t.length>=e?`${t.substring(0,e-3)}...`:`${t}.`}return(t,e)=>{const o=y;return d(),P("div",null,[R(s)?O("",!0):(d(),b(o,{key:0,head:!1},{"not-found":B(()=>[U(o,{path:"/not-found",head:!1})]),_:1}))])}}},z=x(L,[["__scopeId","data-v-dc41684e"]]);export{z as default};
