import y from"./ContentDoc.74536b2c.js";import{i as x,M as A,B as C,J as $,a1 as w,I as v,$ as k,X as q,a as B,u as P,c as R,w as b,q as S,K as U,o as d,f as I}from"./entry.78fd44d8.js";import{q as M}from"./query.c648a91a.js";import"./ContentRenderer.049c73ab.js";import"./ContentRendererMarkdown.664db4f7.js";import"./index.a6ef77ff.js";import"./preview.5316bd1c.js";import"./ContentQuery.d9f27cf1.js";import"./utils.8eafc8a4.js";const N={__name:"[...content-page]",async setup(O){var l,_,u;let r,c;const a=A(),g=U(),s=a.path!=="/"&&a.path.endsWith("/");C(async()=>{if(s){const{path:t,query:e,hash:o}=a,f={path:t.replace(/\/+$/,""),query:e,hash:o};await $(f,{replace:!0})}});let n=null;try{n=([r,c]=w(()=>M(v(a.path)).only(["og","description","title"]).findOne()),r=await r,c(),r)}catch{}if(n){const t=((l=n.og)==null?void 0:l.title)??n.title,e=p(((_=n.og)==null?void 0:_.image)??"logo-primary-og.png"),o=h(m(((u=n.og)==null?void 0:u.description)??n.description),150),i=p(a.path);k({title:t,meta:[{hid:"og:url",property:"og:url",content:i},{hid:"og:title",property:"og:title",content:t},{hid:"description",property:"description",content:o},{hid:"og:description",property:"og:description",content:o},{hid:"og:image",property:"og:image",content:e}]})}function p(t){const{protocol:e,authority:o,baseUrl:i}=g.public;return`${e}://${q(o,i,t)}`}function m(t=" "){return t.replaceAll(`
`," ").replaceAll("	"," ").replaceAll("\r"," ").replaceAll("!",".").replaceAll("?",".").replaceAll("...",".").split(".").shift()}function h(t,e){return t.length>=e?`${t.substring(0,e-3)}...`:`${t}.`}return(t,e)=>{const o=y;return d(),B("div",null,[P(s)?S("",!0):(d(),R(o,{key:0,head:!1},{"not-found":b(()=>[I(o,{path:"/not-found",head:!1})]),_:1}))])}}},W=x(N,[["__scopeId","data-v-dc41684e"]]);export{W as default};
