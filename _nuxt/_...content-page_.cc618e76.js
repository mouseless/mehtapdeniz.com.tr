import y from"./ContentDoc.7166988a.js";import{i as C,M as x,C as A,K as $,a1 as v,J as w,$ as k,X as q,a as P,u as R,c as b,w as B,q as S,v as U,o as d,f as M}from"./entry.0568463b.js";import{q as N}from"./query.94692095.js";import"./ContentRenderer.8584cb63.js";import"./ContentRendererMarkdown.d9602438.js";import"./index.a6ef77ff.js";import"./preview.2a5634ff.js";import"./ContentQuery.477962d6.js";import"./utils.d68e850c.js";const O={__name:"[...content-page]",async setup(T){var l,_,u;let r,c;const a=x(),g=U(),s=a.path!=="/"&&a.path.endsWith("/");A(async()=>{if(s){const{path:t,query:e,hash:o}=a,f={path:t.replace(/\/+$/,""),query:e,hash:o};await $(f,{replace:!0})}});let n=null;try{n=([r,c]=v(()=>N(w(a.path)).only(["og","description","title"]).findOne()),r=await r,c(),r)}catch{}if(n){const t=((l=n.og)==null?void 0:l.title)??n.title,e=p(((_=n.og)==null?void 0:_.image)??"logo-primary-og.png"),o=h(m(((u=n.og)==null?void 0:u.description)??n.description),150),i=p(a.path);k({title:t,meta:[{hid:"og:url",property:"og:url",content:i},{hid:"og:title",property:"og:title",content:t},{hid:"description",property:"description",content:o},{hid:"og:description",property:"og:description",content:o},{hid:"og:image",property:"og:image",content:e}]})}function p(t){const{protocol:e,authority:o,baseUrl:i}=g.public;return`${e}://${q(o,i,t)}`}function m(t=" "){return t.replaceAll(`
`," ").replaceAll("	"," ").replaceAll("\r"," ").replaceAll("!",".").replaceAll("?",".").replaceAll("...",".").split(".").shift()}function h(t,e){return t.length>=e?`${t.substring(0,e-3)}...`:`${t}.`}return(t,e)=>{const o=y;return d(),P("div",null,[R(s)?S("",!0):(d(),b(o,{key:0,head:!1},{"not-found":B(()=>[M(o,{path:"/not-found",head:!1})]),_:1}))])}}},W=C(O,[["__scopeId","data-v-dc41684e"]]);export{W as default};
